(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-761fe064"],{"2cbf":function(e,t,i){"use strict";i("73e0")},"333d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];i("a9e3");Math.easeInOutQuad=function(e,t,i,a){return e/=a/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,i){var a=l(),n=e-a,c=20,r=0;t="undefined"===typeof t?500:t;var d=function e(){r+=c;var l=Math.easeInOutQuad(r,a,n,t);o(l),r<t?s(e):i&&"function"===typeof i&&i()};d()}var r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},d=r,u=(i("2cbf"),i("2877")),m=Object(u["a"])(d,a,n,!1,null,"6af373ef",null);t["a"]=m.exports},6724:function(e,t,i){"use strict";i("8d41");var a="@@wavesContext";function n(e,t){function i(i){var a=Object.assign({},t.value),n=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=n.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",s.appendChild(l)),n.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(i.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(i.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}}return e[a]?e[a].removeHandle=i:e[a]={removeHandle:i},i}var s={bind:function(e,t){e.addEventListener("click",n(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[a].removeHandle,!1),e.addEventListener("click",n(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[a].removeHandle,!1),e[a]=null,delete e[a]}},o=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;t["a"]=s},"73e0":function(e,t,i){},8272:function(e,t,i){"use strict";i.r(t);var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"items"},[i("div",{staticClass:"search_container",staticStyle:{width:"98%",margin:"10px auto"}},[i("el-input",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"角色名称"},model:{value:e.listQuery.juésè_míngchēng,callback:function(t){e.$set(e.listQuery,"juésè_míngchēng","string"===typeof t?t.trim():t)},expression:"listQuery.juésè_míngchēng"}}),i("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"创建时间"},model:{value:e.listQuery.createtime,callback:function(t){e.$set(e.listQuery,"createtime","string"===typeof t?t.trim():t)},expression:"listQuery.createtime"}}),i("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:"",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"修改时间"},model:{value:e.listQuery.modifytime,callback:function(t){e.$set(e.listQuery,"modifytime","string"===typeof t?t.trim():t)},expression:"listQuery.modifytime"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("新增 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{disabled:0===this.sels.length},on:{click:function(t){return e.deleteFileOrDirectory(e.sels)}}},[e._v(" 批量删除 ")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.downloadExcel}},[e._v("导出Excel ")]),i("el-upload",{staticStyle:{display:"inline","padding-left":"10px"},attrs:{"show-file-list":!1,action:e.action,headers:e.headers,"on-success":e.uploadSuc,"before-upload":e.importExcel}},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.uploadLoading,title:"导入excel请使用导出的excel作为模板",type:"primary",icon:"el-icon-upload2"}},[e._v("导入Excel ")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortTable,"selection-change":e.selsChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"序号",prop:"id",sortable:"custom",align:"center",width:"85"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),i("el-table-column",{attrs:{label:"角色名称",prop:"juésè_míngchēng",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.juésè_míngchēng))])]}}])}),i("el-table-column",{attrs:{label:"创建时间",prop:"createtime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createtime))])]}}])}),i("el-table-column",{attrs:{label:"修改时间",prop:"modifytime",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.modifytime))])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"330","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.handleUpdate(t.row)}}},[e._v("编辑")]),"deleted"!=t.row.status?i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelet(t.row)}}},[e._v("删除 ")]):e._e(),i("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(i){return e.setQuanXian(t.row)}}},[e._v("权限 ")])]}}])})],1),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"page-sizes":[10,20,30,50],total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:function(t){return e.getList()}}}),i("el-dialog",{staticClass:"my_dialog",attrs:{"close-on-click-modal":!1,title:"create"==e.dialogStatus?"新增":"更新",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"addForm",staticStyle:{width:"90%","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},[i("el-descriptions",{staticClass:"margin-top",attrs:{title:"",column:2,border:""}},[i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-edit"}),e._v(" 角色名称 ")]),i("el-form-item",{attrs:{prop:"juésè_míngchēng"}},[i("el-input",{model:{value:e.temp.juésè_míngchēng,callback:function(t){e.$set(e.temp,"juésè_míngchēng",t)},expression:"temp.juésè_míngchēng"}})],1)],2)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定 ")])],1)],1),i("el-dialog",{attrs:{title:"权限设置",visible:e.quan_dialogFormVisible},on:{"update:visible":function(t){e.quan_dialogFormVisible=t}}},[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeloading,expression:"treeloading"}],ref:"tree",attrs:{"default-checked-keys":e.default_checked_keys,data:e.data,"render-after-expand":!1,"show-checkbox":"","default-expand-all":!1,"node-key":"id"},on:{"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(a.label))]),a.isLeaf?e._e():i("span",[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),function(){return e.zi_duan_she_zhi(n)}()}}},[e._v(" 字段权限设置 ")])],1)])}}])}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.quan_dialogFormVisible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveSetting}},[e._v("确定 ")])],1),e.currentEntity?i("el-dialog",{attrs:{width:"30%",title:"字段权限设置",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[e._l(e.currentEntity.commentMap,(function(t){return t.column_txt?i("div",{staticStyle:{display:"flex",height:"40px","justify-content":"space-between","align-items":"center"}},[i("div",[e._v(e._s(t.column_txt.substring(0,-1==t.column_txt.indexOf("|")?t.column_txt.length:t.column_txt.indexOf("|"))))]),i("div",[i("el-checkbox",{attrs:{label:"可读"},model:{value:t.check1,callback:function(i){e.$set(t,"check1",i)},expression:"x.check1"}}),i("el-checkbox",{attrs:{label:"可写"},model:{value:t.check2,callback:function(i){e.$set(t,"check2",i)},expression:"x.check2"}})],1)]):e._e()})),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!1}}},[e._v("确 定")])],1)],2):e._e()],1)],1)},s=[],o=(i("d81d"),i("4e82"),i("a434"),i("b64b"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("ddb0"),i("2b3d"),i("bf19"),i("9861"),i("5e33")),l=i("333d"),c=i("6724"),r={name:"Juésè",components:{Pagination:l["a"]},directives:{waves:c["a"]},data:function(){var e=localStorage.userData?JSON.parse(localStorage.userData):{};return{currentEntity:null,innerVisible:!1,gelis:[],treeloading:!0,default_checked_keys:[],quan_dialogFormVisible:!1,data:[],action:Object(o["b"])()+"/import_excel?tb=juésè&onlyimport=1&columns=juésè_míngchēng,createtime,modifytime",baseurl:Object(o["b"])(),uploadaction:Object(o["b"])()+"/upload_te_imgs",headers:{"Access-Token":e.token},dialogStatus:"create",rules:{},temp:{"juésè_míngchēng":"",id:void 0},list:null,downloadLoading:!1,listLoading:!0,uploadLoading:!1,dialogFormVisible:!1,total:0,listQuery:{tb:"juésè","juésè_míngchēng":"",page:1,limit:10,sort:"-id"},sels:[]}},created:function(){this.getList()},methods:{zi_duan_she_zhi:function(e){this.currentEntity=e,this.innerVisible=!0,console.log(e)},decodeUnicode:function(e){return e.replace(/\\u[\dA-Fa-f]{4}/g,(function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))}))},handleCheckChange:function(e,t,i){if(console.log(e.checked,t),e.checked=t||i+"",isNaN(e.id))if(console.log(22222),1==e.checked)this.default_checked_keys.push(e.id);else{var a=this.default_checked_keys.indexOf(e.id);this.default_checked_keys.splice(a,1)}},saveSetting:function(){var e=this;Object(o["a"])("/save_setting",{data:this.data,juese_id:a.id,default_checked_keys:this.default_checked_keys},(function(t){e.$message({type:"success",message:"操作成功!"}),setTimeout((function(){e.quan_dialogFormVisible=!1}),500)}))},setQuanXian:function(e){var t=this;this.treeloading=!0,this.quan_dialogFormVisible=!0,a=e,this.default_checked_keys=[],Object(o["a"])("/find_all_càidān_tree",{juese_id:a.id},(function(e){for(var i=JSON.parse(e),a=0;a<i.length;a++)i[a].geli=!1;t.data=i,t.treeloading=!1,t.setcheck(t.data)}))},setcheck:function(e){for(var t=0;t<e.length;t++){var i=e[t];1==i.checked&&isNaN(i.id)&&this.default_checked_keys.push(i.id),i.children&&this.setcheck(i.children)}},beforeAvatarUpload:function(e){var t=!0,i=e.size/1024/1024<2;return i||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&i},sortTable:function(e,t){this.listQuery.sort=("ascending"==e.order?"+":"-")+e.prop,this.getList()},getList:function(){this.listLoading=!0;var e=this;setTimeout((function(){Object(o["a"])("/find_all_juésè",e.listQuery,(function(t){e.list=t.items,e.total=t.total,e.listLoading=!1}))}),1)},selsChange:function(e){this.sels=e},deleteFileOrDirectory:function(){var e=this,t=this,i=this.sels.map((function(e){return e.id}));this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])("/del_all_juésè",{ids:i,tb:"juésè"},(function(e){t.getList()})),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleCreate:function(){var e=this;this.temp={"juésè_míngchēng":"",createtime:"",modifytime:""},this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["addForm"].clearValidate()}))},init:function(){this.temp={"juésè_míngchēng":"",createtime:"",modifytime:""},"create"==this.dialogStatus&&(this.listQuery.page=1),this.getList()},updateData:function(){var e=this;this.$refs["addForm"].validate((function(t){if(t){var i=e;Object(o["a"])("/upd_juésè",{"juésè_míngchēng":e.temp.juésè_míngchēng,createtime:e.temp.createtime,modifytime:e.temp.modifytime,id:e.temp.id},(function(e){i.dialogFormVisible=!1,i.$message({message:"更新成功！",type:"success"}),i.init(),i.$refs["addForm"].resetFields()}))}}))},createData:function(){this.addData()},uploadSuc:function(e,t,i){this.getList(),this.uploadLoading=!1,"0"==e?this.$message({type:"info",message:"导入失败，请检查导入文件！"}):this.$message({type:"success",message:"成功导入"+e+"条数据！"})},handleUpdate:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.temp.juésè_míngchēng=e.juésè_míngchēng,this.temp.createtime=e.createtime,this.temp.modifytime=e.modifytime,this.temp.id=e.id},handleDelet:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){var i=t;Object(o["a"])("/del_juésè",{tb:"juésè",id:e.id},(function(e){i.getList()})),t.$message({type:"success",message:"删除成功!"})})).catch((function(e){console.log(e),t.$message({type:"info",message:"已取消删除"})}))},handleFilter:function(){this.listQuery.page=1,this.getList()},importExcel:function(){this.uploadLoading=!0},downloadExcel:function(){localStorage.userData&&JSON.parse(localStorage.userData);var e=this;e.downloadLoading=!0,Object(o["a"])("/export_excel2",{tb:"juésè",title:"角色",columns:["id","juésè_míngchēng","createtime","modifytime"],comments:["null","角色名称","创建时间","修改时间"]},(function(t){var i=new Blob([t],{type:"application/vnd.ms-excel,"}),a=URL.createObjectURL(i),n=document.createElement("a"),s=a;n.href=s,n.download="角色.xlsx",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s),e.downloadLoading=!1}),!0)},addData:function(){var e=this;this.$refs["addForm"].validate((function(t){if(t){var i=e;Object(o["a"])("/add_juésè",{"juésè_míngchēng":e.temp.juésè_míngchēng,createtime:e.temp.createtime,modifytime:e.temp.modifytime},(function(e){i.dialogFormVisible=!1,i.$message({message:"添加成功！",type:"success"}),i.init(),i.$refs["addForm"].resetFields()}))}}))}}},d=r,u=(i("deb1"),i("2877")),m=Object(u["a"])(d,n,s,!1,null,"0038b40f",null);t["default"]=m.exports},"8d41":function(e,t,i){},de03:function(e,t,i){},deb1:function(e,t,i){"use strict";i("de03")}}]);